{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function getImages(query) {\n    const BASE_URL = \"https://pixabay.com/api/\";\n    const params = new URLSearchParams({\n        key: \"43019776-35548046cc937008d4e9556be\",\n        q: query,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true,\n    });\n    const url = `${BASE_URL}?${params}`;\n\n    return fetch(url).then(response => {\n        if (!response) {\n            throw new Error(\"error\");\n        }\n        return response.json();\n    })\n        .then(data => {\n            console.log(data);\n            return data;\n        })\n        .catch(error => console.log(\"error\"));\n    \n}\n","export const gallery = document.querySelector(\".gallery\");\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nexport function templateImg(data) {\nif (data.length == 0) {\n    iziToast.error({\n        message: 'Sorry, there are no images matching your search query. Please try again!',\n        theme: 'dark',\n        progressBarColor: '#FFFFFF',\n        color: '#EF4040',\n        position: 'topRight',\n        width: '432px',\n        height: '88px',\n    });\n} else {\n    const markup = data.map((photo) => {\n        return `<li class=\"photos-list-item\">\n        <a class=\"photos-list-link\" href=\"${photo.largeImageURL}\">\n        <img class=\"photo\" src=\"${photo.webformatURL}\" alt=\"${photo.tags}\"/>\n        </a>\n        <ul class=\"photo-information-container\">\n        <li class=\"item-photo-information-container\"><p><span class=\"accent\">Likes</span></br>${photo.likes}</p></li>\n        <li class=\"item-photo-information-container\"><p><span class=\"accent\">Views</span></br>${photo.views}</p></li>\n        <li class=\"item-photo-information-container\"><p><span class=\"accent\">Comments</span></br>${photo.comments}</p></li>\n        <li class=\"item-photo-information-container\"><p><span class=\"accent\">Downloads</span></br>${photo.downloads}</p></li>\n        </ul>\n        </li>`;\n    })\n        .join(\"\");\n        gallery.insertAdjacentHTML(\"beforeend\", markup);\n    lightbox.refresh();\n}\n}\n\n const lightbox = new SimpleLightbox('.photos-list-link', {\n        captionsData: 'alt',\n        captionDelay: 250,\n });","import { getImages } from \"./js/pixabay-api\";\nimport { templateImg } from \"./js/render-functions\";\nimport { gallery } from \"./js/render-functions\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst form = document.querySelector(\".form\");\n\n\nform.addEventListener(\"submit\", handleSubmit);\n\nfunction handleSubmit(event) {\n    event.preventDefault();\n    gallery.innerHTML = '<div class=\"loader\"></div>';\n    const value = form.elements.searchQuery.value.trim().toLowerCase();  \n    \n    getImages(value).then(data => {\n        if (value === \"\") {\n            gallery.innerHTML = \"\";\n            iziToast.error({\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                theme: 'dark',\n                progressBarColor: '#FFFFFF',\n                color: '#EF4040',\n                position: 'topRight',\n                width: '432px',\n                height: '88px',\n            })\n        } else {\n            gallery.innerHTML = \"\";\n            templateImg(data.hits);\n        }\n        form.reset();\n    })\n        .catch(error => console.log(\"error\"));\n}\n\n\n"],"names":["getImages","query","BASE_URL","params","url","response","data","error","gallery","templateImg","iziToast","markup","photo","lightbox","SimpleLightbox","form","handleSubmit","event","value"],"mappings":"6vBAAO,SAASA,EAAUC,EAAO,CAC7B,MAAMC,EAAW,2BACXC,EAAS,IAAI,gBAAgB,CAC/B,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EACKG,EAAM,GAAGF,CAAQ,IAAIC,CAAM,GAEjC,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAY,CAC/B,GAAI,CAACA,EACD,MAAM,IAAI,MAAM,OAAO,EAE3B,OAAOA,EAAS,MACxB,CAAK,EACI,KAAKC,IACF,QAAQ,IAAIA,CAAI,EACTA,EACV,EACA,MAAMC,GAAS,QAAQ,IAAI,OAAO,CAAC,CAE5C,CCvBO,MAAMC,EAAU,SAAS,cAAc,UAAU,EAQjD,SAASC,EAAYH,EAAM,CAClC,GAAIA,EAAK,QAAU,EACfI,EAAS,MAAM,CACX,QAAS,2EACT,MAAO,OACP,iBAAkB,UAClB,MAAO,UACP,SAAU,WACV,MAAO,QACP,OAAQ,MAChB,CAAK,MACE,CACH,MAAMC,EAASL,EAAK,IAAKM,GACd;AAAA,4CAC6BA,EAAM,aAAa;AAAA,kCAC7BA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,gGAGwBA,EAAM,KAAK;AAAA,gGACXA,EAAM,KAAK;AAAA,mGACRA,EAAM,QAAQ;AAAA,oGACbA,EAAM,SAAS;AAAA;AAAA,cAG9G,EACI,KAAK,EAAE,EACRJ,EAAQ,mBAAmB,YAAaG,CAAM,EAClDE,EAAS,QAAO,CACpB,CACA,CAEC,MAAMA,EAAW,IAAIC,EAAe,oBAAqB,CAClD,aAAc,MACd,aAAc,GACtB,CAAE,EClCIC,EAAO,SAAS,cAAc,OAAO,EAG3CA,EAAK,iBAAiB,SAAUC,CAAY,EAE5C,SAASA,EAAaC,EAAO,CACzBA,EAAM,eAAc,EACpBT,EAAQ,UAAY,6BACpB,MAAMU,EAAQH,EAAK,SAAS,YAAY,MAAM,KAAI,EAAG,cAErDf,EAAUkB,CAAK,EAAE,KAAKZ,GAAQ,CACtBY,IAAU,IACVV,EAAQ,UAAY,GACpBE,EAAS,MAAM,CACX,QAAS,2EACT,MAAO,OACP,iBAAkB,UAClB,MAAO,UACP,SAAU,WACV,MAAO,QACP,OAAQ,MACxB,CAAa,IAEDF,EAAQ,UAAY,GACpBC,EAAYH,EAAK,IAAI,GAEzBS,EAAK,MAAK,CAClB,CAAK,EACI,MAAMR,GAAS,QAAQ,IAAI,OAAO,CAAC,CAC5C"}